---
---
Arquillian team is thrilled to anounce new version Arquillain Persistence Extension. We are back with bunch of handy additions and some bug fixes, so keep on reading!

This time big kudos go to "Tomas Hradec":https://github.com/thradec for his great contribution on "JPA Cache Eviction" support. From now on you can control your second level cache directly from the Arquillian tests. I would also like to thank Adrian Gonzalez, Alex Holmansky and Christoph Rohr for their feedback which led us to fix some minor annoyances and shortcommings of APE. We are proud of having such a vibrant and active community around JBoss! 

h3(highlights). Some of the highlights in this release

- <i class="icon-star"></i> Instead of relying on the JPA provider you can now use your customs scripts to create the schema and populate data for each test. The only thing to do is to decorate your test class with following annotation:

bc(prettify). @CreateSchema({"create-schema.sql", "populate-data.sql"})

- <i class="icon-star"></i> Thanks to Tomas Hradec we have taken over the control of Second Level JPA cache eviction. This initial implementation gives you a possibility to evict the cache before or after your test. Just specify which persistence unit(s) should be used by APE:

bc(prettify). @JpaCacheEviction(entityManager = { "java:comp/env/MyPersistenceUnit" })


- <i class="icon-star"></i> One of the shortcomings of the previous versions was the fact that you were always forced to provide data source name explicitly. Either through @arquillian.xml@ or using @@DataSource@ annotation. Alpha 5 will give you a relief! If you have only one data source for your test case it will be automatically inferred from @persistence.xml@ which your test is using.

- <i class="icon-star"></i> You can also tell DBUnit which schema needs to be used for seeding database. For this purpose just put additional @schema@ property in your @arquillian.xml@, like illustrated in the snippet below:

div(filename). arquillian.xml

bc(prettify).. <extension qualifier="persistence-dbunit">
    <property name="schema">ape</property>
</extension>
=:

We also extended our test suite by adding following databases to our continuous integration pipeline
* MySQL 5.5.24
* PostgreSQL 9.1.4

We look forward to hearing your feedback about this release in the "community forums":#{site.project_space}!
